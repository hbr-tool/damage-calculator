<!DOCTYPE html>
<html>

<head>
  <!-- Searvh Console -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1145880808347586"
    crossorigin="anonymous"></script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N7FD0VTLNH"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-N7FD0VTLNH');
  </script>
  <meta charset="utf-8">
  <meta content="ヘブンバーンズレッドのダメージ計算ツールです。" name="description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@RELI_hevburn" />
  <meta name="twitter:title" content="ヘブバン ダメージ計算ツール" />
  <meta name="twitter:description" content="ヘブンバーンズレッドのダメージ計算ツールです。" />
  <meta name="twitter:image" content="https://www.hbr-tool.com/img/summary_card.png" />
  <title>ヘブバン ダメージ計算ツール</title>
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/modal.css">
  <link rel="stylesheet" href="css/micromodal.css">
  <link rel="stylesheet" href="css/damege.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://unpkg.com/micromodal/dist/micromodal.min.js"></script>
  <script src="js/header.js"></script>
  <script src="js/common.js"></script>
  <script src="js/const.js"></script>
  <script src="js/chara_data.js"></script>
  <script src="js/chara_style.js"></script>
  <script src="js/damege.js"></script>
  <script src="js/modal.js"></script>
  <script src="js/skill_list.js"></script>
  <script src="js/skill_attack.js"></script>
  <script src="js/skill_buff.js"></script>
  <script src="js/skill_passive.js"></script>
  <script src="js/ability.js"></script>
  <script src="js/enemy.js"></script>
  <script src="js/grade.js"></script>
  <script src="js/score_data.js"></script>
  <script>
    var chara_no = -1;
    var type_physical = ["", "slash", "stab", "strike"];
    let tears_of_dreams_list = [0, 12, 12, 12, 12, 15, 15, 15, 15, 15, 20, 20, 20, 20];
    var type_element = ["none", "fire", "ice", "thunder", "light", "dark"];
    var select_attack_skill;
    var open_damage_detail;
    var buff_kbn = [
      "power_up",
      "element_up",
      "mindeye",
      "defense_down",
      "element_down",
      "fragile",
      "critical_up",
      "critical_damege",
      "critical_element",
      "critical_damege_element",
      "charge",
      "element_field",
      "destruction_rete_up",
      "",
      "fightingspirit",
      "misfortune",
      "funnel",
      "funnel",
      "strong_break",
      "dp_defense_down",
      "resist_down",
      "permanent_defense_down",
      "permanent_element_down",
    ];
    const DP_GAUGE_COUNT = 4;
    const BIKE_PARTS_LIST = ["無し(その他)", "攻撃＋", "クリティカル率＋", "チャージ", "敵防御ダウン", "攻撃＋＋", "心眼(改)", "クリティカル率ダメージ＋", "連撃＋", "破壊率＋", 
                            "攻撃＋改", "クリティカル率＋改", "敵防御ダウン改", "攻撃＋＋改", "クリティカル率ダメージ＋改", "連撃＋改", "破壊率＋改"];
    $(function () {
      // スタイルリスト作成
      createStyleList();
      // モーダル系イベント追加
      addModalEvent();

      $("input[type='number']").prop("step", 1);
      $(".status").prop("max", 999);
      $(".status").prop("min", 1);

      $(".limit").each(function (index, value) {
        for (let i = 0; i <= 4; i++) $(value).append($('<option>').text(i).val(i))
        $(value).prop("selectedIndex", 2);
      });
      $(".limit").append($('<option>').text(10).val(10).css("display", "none"));
      $(".limit").append($('<option>').text(20).val(20).css("display", "none"));

      $(".jewel").each(function (index, value) {
        for (let i = 0; i <= 5; i++) $(value).append($('<option>').text(i).val(i))
        $(value).prop("selectedIndex", 5);
      });

      // スコアタレベル
      var selectOptions = '';
      BIKE_PARTS_LIST.forEach(function (value, index) {
        selectOptions += '<option value="' + index + '">' + value + '</option>';
      });
      $('#bike_parts_1').html(selectOptions);
      $('#bike_parts_2').html(selectOptions);
      $('#bike_parts_3').html(selectOptions);

      // スコアタレベル
      var selectOptions = '';
      for (var i = 140; i >= 101; i--) {
        selectOptions += '<option value="' + i + '">' + i + '</option>';
      }
      $('#score_lv').html(selectOptions);

      // 自由入力取得
      for (let i = 0; i < 10; i++) {
        let free_enemy = localStorage.getItem("free_enemy_" + i);
        if (free_enemy !== null) {
          updateEnemyStatus(i, JSON.parse(free_enemy));
        }
      }
      // 敵情報設定
      let enemy_class = localStorage.getItem("enemy_class");
      enemy_class = enemy_class ? enemy_class : "1";
      $("#enemy_class").val(enemy_class);
      createEnemyList(Number(enemy_class));
      let enemy_list = localStorage.getItem("enemy_list");
      enemy_list = enemy_list ? enemy_list : "1";
      $("#enemy_list").val(enemy_list);
      setEnemyStatus();

      // イベント設定
      setEventTrigger();

      // スタイルリスト読み込み
      select_troops = select_troops ? select_troops : 0;
      $("#troops_btn_" + select_troops).addClass("selected_troops");
      loadTroopsList(select_troops);

      // MicroModal初期化
      MicroModal.init({
        disableScroll: true,
      });
    });
    // ロード完了後に表示
    $(window).on("load", function () {
      $("div.frame").css("visibility", "visible");
    });
  </script>
</head>

<body>
  <main>
    <div class="header"></div>
    <div class="frame w-screen pt-3 overflow-y-scroll border-b" style="visibility: hidden;">
      <div class="display_area mx-auto">
        <div class="status_area mx-auto">
          <div id="char_list" class="grid grid-cols-7 text-center gap-y-px gap-x-0">
            <label class="mt-3 mb-3 small_font">部隊選択</label>
            <div class="col-span-6 flex">
              <input type="button" id="troops_btn_0" class="troops_btn" value="0">
              <input type="button" id="troops_btn_1" class="troops_btn" value="1">
              <input type="button" id="troops_btn_2" class="troops_btn" value="2">
              <input type="button" id="troops_btn_3" class="troops_btn" value="3">
              <input type="button" id="troops_btn_4" class="troops_btn" value="4">
              <input type="button" id="troops_btn_5" class="troops_btn" value="5">
              <input type="button" id="troops_btn_6" class="troops_btn" value="6">
              <input type="button" id="troops_btn_7" class="troops_btn" value="7">
              <input type="button" id="troops_btn_8" class="troops_btn" value="8">
            </div>
            <div class="mt-2">
              <div>
                <label class="small_font">スタイル</label>
                <input type="button" id="style_reset_btn" value="リセット">
              </div>
            </div>
            <img class="showmodal select_style" id="select_chara_0" src="img/plus.png" data-chara_no="0">
            <img class="showmodal select_style" id="select_chara_1" src="img/plus.png" data-chara_no="1">
            <img class="showmodal select_style" id="select_chara_2" src="img/plus.png" data-chara_no="2">
            <img class="showmodal select_style" id="select_chara_3" src="img/plus.png" data-chara_no="3">
            <img class="showmodal select_style" id="select_chara_4" src="img/plus.png" data-chara_no="4">
            <img class="showmodal select_style" id="select_chara_5" src="img/plus.png" data-chara_no="5">
            <div>
              <label class="label_status">限界突破</label>
              <label class="label_status">力</label>
              <label class="label_status">器用さ</label>
              <label class="label_status">体力</label>
              <label class="label_status">精神</label>
              <label class="label_status">知性</label>
              <label class="label_status">運</label>
              <label class="label_status">宝珠Lv</label>
              <label class="label_status">消費SP</label>
            </div>
            <div>
              <select id="limit_0" class="limit save"></select>
              <input type="number" id="str_0" class="status save" value="400">
              <input type="number" id="dex_0" class="status save" value="400">
              <input type="number" id="con_0" class="status save" value="400">
              <input type="number" id="mnd_0" class="status save" value="400">
              <input type="number" id="int_0" class="status effect_size save" value="400">
              <input type="number" id="luk_0" class="status effect_size save" value="400">
              <select id="jewel_0" class="jewel save"></select>
              <label id="sp_cost_0">0</label>
            </div>
            <div>
              <select id="limit_1" class="limit save"></select>
              <input type="number" id="str_1" class="status save" value="400">
              <input type="number" id="dex_1" class="status save" value="400">
              <input type="number" id="con_1" class="status save" value="400">
              <input type="number" id="mnd_1" class="status save" value="400">
              <input type="number" id="int_1" class="status effect_size save" value="400">
              <input type="number" id="luk_1" class="status effect_size save" value="400">
              <select id="jewel_1" class="jewel save"></select>
              <label id="sp_cost_1">0</label>
            </div>
            <div>
              <select id="limit_2" class="limit save"></select>
              <input type="number" id="str_2" class="status save" value="400">
              <input type="number" id="dex_2" class="status save" value="400">
              <input type="number" id="con_2" class="status save" value="400">
              <input type="number" id="mnd_2" class="status save" value="400">
              <input type="number" id="int_2" class="status effect_size save" value="400">
              <input type="number" id="luk_2" class="status effect_size save" value="400">
              <select id="jewel_2" class="jewel save"></select>
              <label id="sp_cost_2">0</label>
            </div>
            <div>
              <select id="limit_3" class="limit save"></select>
              <input type="number" id="str_3" class="status save" value="400">
              <input type="number" id="dex_3" class="status save" value="400">
              <input type="number" id="con_3" class="status save" value="400">
              <input type="number" id="mnd_3" class="status save" value="400">
              <input type="number" id="int_3" class="status effect_size save" value="400">
              <input type="number" id="luk_3" class="status effect_size save" value="400">
              <select id="jewel_3" class="jewel save"></select>
              <label id="sp_cost_3">0</label>
            </div>
            <div>
              <select id="limit_4" class="limit save"></select>
              <input type="number" id="str_4" class="status save" value="400">
              <input type="number" id="dex_4" class="status save" value="400">
              <input type="number" id="con_4" class="status save" value="400">
              <input type="number" id="mnd_4" class="status save" value="400">
              <input type="number" id="int_4" class="status effect_size save" value="400">
              <input type="number" id="luk_4" class="status effect_size save" value="400">
              <select id="jewel_4" class="jewel save"></select>
              <label id="sp_cost_4">0</label>
            </div>
            <div>
              <select id="limit_5" class="limit save"></select>
              <input type="number" id="str_5" class="status save" value="400">
              <input type="number" id="dex_5" class="status save" value="400">
              <input type="number" id="con_5" class="status save" value="400">
              <input type="number" id="mnd_5" class="status save" value="400">
              <input type="number" id="int_5" class="status effect_size save" value="400">
              <input type="number" id="luk_5" class="status effect_size save" value="400">
              <select id="jewel_5" class="jewel save"></select>
              <label id="sp_cost_5">0</label>
            </div>
          </div>
          <div class="attack_area surround_area mx-auto mt-2 adjust_width">
            <label class="area_title">攻 撃</label>
            <div class="flex">
              <select id="attack_list" class="ml-6">
              </select>
              <div class="lv"><select id="skill_lv"></select></div>
              <img id="attack_physical" class="w-6 h-6" src="img/blank.png">
              <img id="attack_element" class="w-6 h-6" src="img/blank.png">
              <label id="range_area">単体</label>
            </div>
            <div class="ml-6">
              <div class="mb-2">
                <input type="checkbox" id="skill_special_display" checked><label class="checkbox01"
                  for="skill_special_display">EXスキル以外を非表示にする</label>
              </div>
              <!-- バーチカルフォース/パドマ・ナーチュナー/花舞う、可憐のフレア専用 -->
              <div class="skill_unique attack_attack_id-115 attack_attack_id-2167 attack_attack_id-136 hidden">
                <div class="flex">
                  自身のDP
                  <div class="dp_gauge">
                    <input type="range" id="skill_unique_dp_rate" class="player_dp_range dp_range w-[160px]" min="0"
                      max="150" step="1" value="100"
                      style="background: linear-gradient(to right, rgb(79, 124, 139) 0%, rgb(196, 211, 216) 66.6667%, rgb(255, 255, 255) 66.6667%);">
                    <output id="player_dp_rate" class="gauge_rate">100%</output>
                  </div>
                </div>
              </div>
              <!-- コーシュカ・アルマータ/疾きこと風の如し専用 -->
              <div class="skill_unique attack_attack_id-154 attack_attack_id-155 attack_attack_id-2162 hidden">
                <div class="flex">
                  残りSP
                  <input id="skill_unique_sp" type="number" value="30" class="ml-2 w-12">
                </div>
              </div>
              <!-- 美也専用 -->
              <div class="skill_unique attack_chara_id-45 hidden">
                <input type="checkbox" id="skill_unique_cherry_blossoms"><label class="checkbox01"
                  for="skill_unique_cherry_blossoms">桜花の矢</label>
              </div>
              <!-- アーデルハイト専用 -->
              <div class="skill_unique attack_chara_id-17 hidden">
                <input type="checkbox" id="skill_unique_shadow_clone_17"><label class="checkbox01"
                  for="skill_unique_shadow_clone_17">影分身</label>
              </div>
              <!-- マリー専用 -->
              <div class="skill_unique attack_chara_id-18 hidden">
                <input type="checkbox" id="skill_unique_shadow_clone_18"><label class="checkbox01"
                  for="skill_unique_shadow_clone_18">影分身</label>
              </div>
            </div>
          </div>
          <div class="enemy_select adjust_width mx-auto mt-2">
            <div>
              <label id="enemy_select_label">敵選択</label>
              <select id="enemy_class">
                <option value="1">異時層</option>
                <option value="2">オーブボス</option>
                <option value="3">時計塔(N)</option>
                <option value="4">時計塔(H)</option>
                <option value="5">宝珠の迷宮</option>
                <option value="6">スコアアタック</option>
                <option value="7">プリズムバトル</option>
                <option value="8">恒星掃戦線</option>
                <option value="9">イベント隠しボス</option>
                <option value="10">時の修練場</option>
                <option value="11">制圧戦</option>
                <option value="12">セラフ遭遇戦</option>
                <option value="13">イベントプリズム</option>
                <option value="99">自由入力</option>
              </select>
              <select id="enemy_list">
              </select>
              <input id="enemy_save" type="button" value="保存" hidden>
              <select id="score_lv" hidden></select>
            </div>
          </div>
          <div class="score_attack mx-auto">
            <div id="half_tab">
              <input type="radio" name="rule_tab" id="half_tab_1" checked>
              <label for="half_tab_1" id="label_half_tab_1">1週目</label>
              <input type="radio" name="rule_tab" id="half_tab_2">
              <label for="half_tab_2" id="label_half_tab_2">2週目</label>
              <input type="radio" name="rule_tab" id="half_tab_3">
              <label for="half_tab_3" id="label_half_tab_3">3週目</label>
              <span id="score_turn">
                ターン数
                <select id="turn_count" class="text-right w-12">
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
                  <option value="13">13</option>
                  <option value="14">14</option>
                  <option value="15">15</option>
                  <option value="16">16</option>
                  <option value="17">17</option>
                  <option value="18">18</option>
                  <option value="19">19</option>
                  <option value="20">20</option>
                  <option value="21">21</option>
                  <option value="22">22</option>
                  <option value="23">23</option>
                  <option value="24">24</option>
                  <option value="25">25</option>
                  <option value="26">26</option>
                  <option value="27">27</option>
                  <option value="28">28</option>
                  <option value="29">29</option>
                  <option value="30">30</option>
                </select>
              </span>
              <div id="half_content_1"></div>
              <div id="half_content_2"></div>
              <div id="half_content_3"></div>
            </div>
          </div>
          <div class="hard_layer adjust_width">
            <div class="flex ml-0 mt-2">
              <label class="mt-3">他部隊選択</label>
              <select id="sub_troops" class="mt-3">
                <option value="-1" selected>なし</option>
                <option value="0">部隊0</option>
                <option value="1">部隊1</option>
                <option value="2">部隊2</option>
                <option value="3">部隊3</option>
                <option value="4">部隊4</option>
                <option value="5">部隊5</option>
                <option value="6">部隊6</option>
                <option value="7">部隊7</option>
                <option value="8">部隊8</option>
              </select>
              <div id="sub_chara_container_0"><img class="sub_style" id="sub_chara_0" src="img/cross.png"
                  data-chara_no="0"></div>
              <div id="sub_chara_container_1"><img class="sub_style" id="sub_chara_1" src="img/cross.png"
                  data-chara_no="1"></div>
              <div id="sub_chara_container_2"><img class="sub_style" id="sub_chara_2" src="img/cross.png"
                  data-chara_no="2"></div>
              <div id="sub_chara_container_3"><img class="sub_style" id="sub_chara_3" src="img/cross.png"
                  data-chara_no="3"></div>
              <div id="sub_chara_container_4"><img class="sub_style" id="sub_chara_4" src="img/cross.png"
                  data-chara_no="4"></div>
              <div id="sub_chara_container_5"><img class="sub_style" id="sub_chara_5" src="img/cross.png"
                  data-chara_no="5"></div>
            </div>
            <div>
              <div class="flex ml-6 leading-6">
                夢の泪
                <select id="tears_of_dreams" type="number" value="0" class="ml-2 w-12 text-center h-6">
                  <option value="0" selected>0</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                </select>
                <div id="skull_feather_1st" class="ml-2 hidden">
                  防御力アップ×
                  <input type="number" id="skull_feather_1st_defense" class="text-center h-6" min="0" max="20"
                    value="0">
                </div>
              </div>
            </div>
          </div>
          <div class="bike_buff adjust_width mx-auto">
            <div class="mt-2">
              メンバーの全能力＋
              <input type="number" min="0" max="286" step="1" id="all_status_up" value="0" class="limit_number">
            </div>
            <div class="mt-1">
              <sapn>バイクパーツ</sapn>
              <select id="bike_parts_1" class="bike_parts w-24">
              </select>
              <select id="bike_parts_2" class="bike_parts w-24">
              </select>
              <select id="bike_parts_3" class="bike_parts w-24">
              </select>
            </div>
          </div>
          <div class="randam_card adjust_width mx-auto">
            <div class="mt-1 flex">
              <div class="w-24 mr-1 font-bold">ランダムカード</div>
              <input type="radio" name="card" class="w-3" id="card_none" value="0" checked><label for="card_none" class="w-20">無し/その他</label>
            </div>
            <div class="flex">
              <div class="card_label">敵ステータス</div>
              <input type="radio" name="card" class="w-3" id="status_30" value="30" data-kind="status"><label for="status_30" class="w-8">+30</label>
              <input type="radio" name="card" class="w-3" id="status_50" value="50" data-kind="status"><label for="status_50" class="w-8">+50</label>
              <input type="radio" name="card" class="w-3" id="status_60" value="60" data-kind="status"><label for="status_60" class="w-8">+60</label>
              <input type="radio" name="card" class="w-3" id="status_70" value="70" data-kind="status"><label for="status_70" class="w-8">+70</label>
              <input type="radio" name="card" class="w-3" id="status_100" value="100" data-kind="status"><label for="status_100" class="w-10">+100</label>
            </div>
            <div class="flex">
              <div class="card_label">D  P</div>
              <input type="radio" name="card" class="w-3" id="dp_rate_50" value="50" data-kind="dp_rate"><label for="dp_rate_50" class="w-12">+50%</label>
              <input type="radio" name="card" class="w-3" id="dp_rate_60" value="60" data-kind="dp_rate"><label for="dp_rate_60" class="w-12">+60%</label>
              <input type="radio" name="card" class="w-3" id="dp_rate_100" value="100" data-kind="dp_rate"><label for="dp_rate_100" class="w-14">+100%</label>
              <input type="radio" name="card" class="w-3" id="dp_rate_120" value="120" data-kind="dp_rate"><label for="dp_rate_120" class="w-14">+120%</label>
            </div>
            <div class="flex">
              <div class="card_label">H  P</div>
              <input type="radio" name="card" class="w-3" id="hp_rate_50" value="50" data-kind="hp_rate"><label for="hp_rate_50" class="w-12">+50%</label>
              <input type="radio" name="card" class="w-3" id="hp_rate_60" value="60" data-kind="hp_rate"><label for="hp_rate_60" class="w-12">+60%</label>
              <input type="radio" name="card" class="w-3" id="hp_rate_100" value="100" data-kind="hp_rate"><label for="hp_rate_100" class="w-14">+100%</label>
              <input type="radio" name="card" class="w-3" id="hp_rate_120" value="120" data-kind="hp_rate"><label for="hp_rate_120" class="w-14">+120%</label>
            </div>
            <!-- <div class="flex">
              <div class="card_label">耐性</div>
              <input type="radio" name="card" class="w-3" id="resist_1_100" value="-100" data-kind="resist_1"><label for="resist_1_100" class="card_regist">火-100%</label>
              <input type="radio" name="card" class="w-3" id="resist_5_100" value="-100" data-kind="resist_5"><label for="resist_5_100" class="card_regist">闇-100%</label>
            </div> -->
        </div>
          <div class="enemy_status surround_area mx-auto mt-2 adjust_width">
            <label class="area_title">敵情報</label>
            <div class="flex">
              <div class="flex flex-wrap gap-1 w-40">
                <div class="text-right enemy_label">能力値</div><input type="number" id="enemy_stat" value="" readonly
                  class="w-10 text-center enemy_input">
                <div class="text-right enemy_label">破壊率上限</div><input type="number" id="enemy_destruction_limit"
                  value="" readonly class="w-10 text-center enemy_input">
                <div class="text-right enemy_label">破壊率</div><input type="number" id="enemy_destruction_rate" min="100"
                  class="text-center">
                <div class="text-right enemy_label">破壊係数</div><input type="number" id="enemy_destruction" min="1"
                  readonly class="text-center enemy_input">
              </div>
              <div>
                <div class="flex">
                  <div class="w-5">DP</div>
                  <div>
                    <div class="dp_gauge">
                      <input type="text" id="enemy_dp_3" value="" readonly class="w-20 text-right enemy_input comma"
                        pattern="\d*">
                      <input type="range" id="dp_range_3" class="enemy_dp_range dp_range" min="0" max="100" step="1"
                        value="0">
                      <output id="dp_rate_3" class="gauge_rate">0%</output>
                    </div>
                    <div class="dp_gauge">
                      <input type="text" id="enemy_dp_2" value="" readonly class="w-20 text-right enemy_input comma"
                        pattern="\d*">
                      <input type="range" id="dp_range_2" class="enemy_dp_range dp_range" min="0" max="100" step="1"
                        value="0">
                      <output id="dp_rate_2" class="gauge_rate">0%</output>
                    </div>
                    <div class="dp_gauge">
                      <input type="text" id="enemy_dp_1" value="" readonly class="w-20 text-right enemy_input comma"
                        pattern="\d*">
                      <input type="range" id="dp_range_1" class="enemy_dp_range dp_range" min="0" max="100" step="1"
                        value="0">
                      <output id="dp_rate_1" class="gauge_rate">0%</output>
                    </div>
                    <div class="dp_gauge">
                      <input type="text" id="enemy_dp_0" value="" readonly class="w-20 text-right enemy_input comma"
                        pattern="\d*">
                      <input type="range" id="dp_range_0" class="enemy_dp_range dp_range" min="0" max="100" step="1"
                        value="0">
                      <output id="dp_rate_0" class="gauge_rate">0%</output>
                    </div>
                  </div>
                </div>
                <div class="flex">
                  <div class="w-5">HP</div>
                  <div>
                    <div class="flex">
                      <input type="text" id="enemy_hp" value="" readonly class="w-20 text-right enemy_input comma">
                      <input type="range" id="hp_range" class="hp_range" min="0" max="100" step="1" value="0">
                      <output id="hp_rate" class="gauge_rate">0%</output>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="resist_area mx-auto mt-2">
              <div class="grid grid-cols-9">
                <div class="slash"><input type="image" class="enemy_type_icon" src="img/slash.webp"><input type="text"
                    id="enemy_physical_1" class="enemy_type_value enemy_input" readonly></div>
                <div class="stab"><input type="image" class="enemy_type_icon" src="img/stab.webp"><input type="text"
                    id="enemy_physical_2" class="enemy_type_value enemy_input" readonly></div>
                <div class="strike"><input type="image" class="enemy_type_icon" src="img/strike.webp"><input type="text"
                    id="enemy_physical_3" class="enemy_type_value enemy_input" readonly></div>
                <div class="none"><input type="image" class="enemy_type_icon" src="img/none.webp"><input type="text"
                    id="enemy_element_0" class="enemy_type_value enemy_input" readonly></div>
                <div class="fire"><input type="image" class="enemy_type_icon" src="img/fire.webp"><input type="text"
                    id="enemy_element_1" class="enemy_type_value enemy_input" readonly></div>
                <div class="ice"><input type="image" class="enemy_type_icon" src="img/ice.webp"><input type="text"
                    id="enemy_element_2" class="enemy_type_value enemy_input" readonly></div>
                <div class="thunder"><input type="image" class="enemy_type_icon" src="img/thunder.webp"><input
                    type="text" id="enemy_element_3" class="enemy_type_value enemy_input" readonly></div>
                <div class="light"><input type="image" class="enemy_type_icon" src="img/light.webp"><input type="text"
                    id="enemy_element_4" class="enemy_type_value enemy_input" readonly></div>
                <div class="dark"><input type="image" class="enemy_type_icon" src="img/dark.webp"><input type="text"
                    id="enemy_element_5" class="enemy_type_value enemy_input" readonly></div>
              </div>
            </div>
          </div>
          <div class="surround_area mx-auto my-2 adjust_width">
            <label class="area_title">他設定</label>
            <div class="flex flex-wrap py-1 ml-3 gap-x-4 gap-y-2">
              <div class="flex">
                <div class="pt-0.5">属性リング</div>
                <select id="elememt_ring" disabled>
                  <option value="0">無し</option>
                  <option value="2">+0(2%)</option>
                  <option value="4">+1(4%)</option>
                  <option value="6">+2(6%)</option>
                  <option value="8">+3(8%)</option>
                  <option value="10">+4(10%)</option>
                </select>
              </div>
              <div class="flex">
                <div class="pt-0.5">ピアス</div>
                <select id="earring">
                  <option value="0">選択無し</option>
                  <option value="1" data-effect_size="10" data-type="attack">アタック10%</option>
                  <option value="2" data-effect_size="12" data-type="attack">アタック12%</option>
                  <option value="3" data-effect_size="15" data-type="attack">アタック15%</option>
                  <option value="4" data-effect_size="10" data-type="break">ブレイク10%</option>
                  <option value="5" data-effect_size="12" data-type="break">ブレイク12%</option>
                  <option value="6" data-effect_size="15" data-type="break">ブレイク15%</option>
                  <option value="7" data-effect_size="10" data-type="blast">ブラスト10%</option>
                  <option value="8" data-effect_size="12" data-type="blast">ブラスト12%</option>
                  <option value="9" data-effect_size="15" data-type="blast">ブラスト15%</option>
                </select>
              </div>
              <div class="flex">
                <div class="pt-0.5">チェーン</div>
                <select id="chain">
                  <option value="0">選択無し</option>
                  <option value="1">銀氷</option>
                </select>
              </div>
              <div class="flex">
                <div class="pt-0.5">トークン数</div>
                <select id="token_count" class="token">
                  <option value="0">0</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                </select>
              </div>
              <input type="checkbox" id="overdrive"><label class="checkbox01" for="overdrive">オーバードライブ</label>
              <input type="checkbox" id="fightingspirit" class="ml-3 pt-0.5"><label class="checkbox01"
                for="fightingspirit">闘志</label>
              <input type="checkbox" id="misfortune" class="ml-3 pt-0.5"><label class="checkbox01"
                for="misfortune">厄</label>
              <input type="checkbox" id="strong_break" class="ml-3 pt-0.5"><label class="checkbox01"
                for="strong_break">強ブレイク</label>
              <div class="flex">
                <div class="pt-0.5">士気</div>
                <select id="morale_count" class="morale">
                  <option value="0">0</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                </select>
              </div>
              <input type="checkbox" id="eternal_vows" class="ml-3 pt-0.5"><label class="checkbox01"
                for="eternal_vows">永遠なる誓い</label>
              <input type="checkbox" id="babied" class="ml-3 pt-0.5"><label class="checkbox01" for="babied">オギャり</label>
              <input type="checkbox" id="hacking" class="ml-3 pt-0.5"><label class="checkbox01"
                for="hacking">ハッキング</label>
            </div>
          </div>
          <div id="prediction_score" class="surround_area mx-auto my-2 adjust_width">
            <label class="area_title">予測スコア</label>
            <div class="mx-auto w-[330px] mt-2">
              <div>
                <div class="prediction">難易度スコア</div>
                <input type="text" id="lv_score" class="text-center prediction_value" readonly>
              </div>
              <div>
                <div class="prediction prediction_shift">
                  <input type="checkbox" id="no_break_bonus_check" checked>
                  <label class="checkbox01" for="no_break_bonus_check">ノーブレイクボーナス</label>
                </div>
                <input type="text" id="no_break_bonus" class="text-center prediction_value" readonly>
              </div>
              <div>
                <div class="prediction">
                  <label class="label_damage_bonus">
                    最大ダメージボーナス
                  </label>
                  <select id="socre_enemy_unit">
                    <option value="1">1体</option>
                    <option value="2">2体</option>
                    <option value="3">3体</option>
                  </select>
                </div>
                <input type="text" id="damage_bonus_avg" class="text-center prediction_value" readonly>
                <div class="flex items-center">
                  <div class="prediction_none"></div>
                  <div class="mt-1">（</div>
                  <input type="text" id="damage_bonus_min" class="text-center prediction_value" readonly>
                  <div class="mt-1">～</div>
                  <input type="text" id="damage_bonus_max" class="text-center prediction_value" readonly>
                  <div class="mt-1">）</div>
                </div>
              </div>
              <div>
                <div class="prediction">ターン数</div>
                <input type="text" id="turn_bonus" class="text-center prediction_value" readonly>
              </div>
              <div>
                <div class="prediction">グレードボーナス</div>
                <input type="text" id="grade_bonus" class="text-center prediction_value" readonly>
              </div>
              <div class="font-bold">
                <div class="prediction mt-1">最終スコア</div>
                <input type="text" id="summary_score_avg" class="text-center prediction_value" readonly>
                <div class="flex">
                  <div class="prediction_none"></div>
                  <div class="mt-1">（</div>
                  <input type="text" id="summary_score_min" class="text-center prediction_value" readonly>
                  <div class="mt-1">～</div>
                  <input type="text" id="summary_score_max" class="text-center prediction_value" readonly>
                  <div class="mt-1">）</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="buff_area text-right mx-auto">
          <div class="flex justify-between items-center w-full">
            <div class="ml-6">
              <input type="button" id="all_delete" class="buff_btn" value="全て外す">
              <input type="button" id="open_select_buff" class="buff_btn" value="一括設定">
            </div>
            <div class="flex items-center">
              <input type="checkbox" id="auto_skill" checked>
              <label class="checkbox01 ml-2" for="auto_skill">スタイル/攻撃スキル/敵選択時に最適スキルを自動選択する</label>
            </div>
          </div>
          <div class="text-center">
            <table>
              <colgroup>
                <col class="title_column pc_only">
                <col class="type1_column">
                <col class="type2_column">
                <col class="skill_name_column">
                <col class="reinforce_column">
                <col class="skill_lv_column">
              </colgroup>
              <tr class="sp_only">
                <td colspan="5" class="kind">バフ</td>
              </tr>
              <tr>
                <td rowspan="10" class="kind pc_only">バフ</td>
                <td class="type" colspan="2">攻撃力UP1</td>
                <td><select id="power_up1" class="buff power_up redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""><label class="strengthen display_chara_id-4 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td>
                  <div class="lv"><select id="power_up1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">攻撃力UP2</td>
                <td><select id="power_up2" class="buff power_up redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""><label class="strengthen display_chara_id-4 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td>
                  <div class="lv"><select id="power_up2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">属性攻撃力UP1</td>
                <td class="row_element"><select id="element_up1" class="buff element_up redisplay include_lv"
                    name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element"><label class="strengthen display_chara_id-4 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_element">
                  <div class="lv"><select id="element_up1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">属性攻撃力UP2</td>
                <td class="row_element"><select id="element_up2" class="buff element_up redisplay include_lv"
                    name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element"><label class="strengthen display_chara_id-4 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_element">
                  <div class="lv"><select id="element_up2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_weak" colspan="2">心眼1</td>
                <td class="row_weak"><select id="mindeye1" class="mindeye redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_weak"></td>
                <td class="row_weak">
                  <div class="lv"><select id="mindeye1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_weak" colspan="2">心眼2</td>
                <td class="row_weak"><select id="mindeye2" class="mindeye redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_weak"></td>
                <td class="row_weak">
                  <div class="lv"><select id="mindeye2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">連撃1</td>
                <td><select id="funnel1" class="funnel redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="funnel1_lv"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">連撃2</td>
                <td><select id="funnel2" class="funnel redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="funnel2_lv"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">破壊率UP1</td>
                <td><select id="destruction_rete_up1" class="destruction_rete_up  redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="funnel1_lv"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">破壊率UP2</td>
                <td><select id="destruction_rete_up2" class="destruction_rete_up redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="funnel2_lv"></select></div>
                </td>
              </tr>
              <tr class="sp_only">
                <td colspan="5" class="kind">デバフ</td>
              </tr>
              <tr>
                <td rowspan="14" class="kind pc_only">デバフ</td>
                <td class="type" colspan="2">防御力DOWN1</td>
                <td><select id="defense_down1" class="debuff redisplay defense_down include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""><label class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td>
                  <div class="lv"><select id="defense_down1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">防御力DOWN2</td>
                <td><select id="defense_down2" class="debuff redisplay defense_down include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""><label class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td>
                  <div class="lv"><select id="defense_down2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_dp" colspan="2">DP防御力DOWN1</td>
                <td class="row_dp"><select id="dp_defense_down1" class="dp_debuff redisplay dp_defense_down include_lv"
                    name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_dp"><label class="strengthen display_chara_id-11 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_dp">
                  <div class="lv"><select id="dp_defense_down1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_dp" colspan="2">DP防御力DOWN2</td>
                <td class="row_dp"><select id="dp_defense_down2" class="dp_debuff redisplay dp_defense_down include_lv"
                    name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_dp"><label class="strengthen display_chara_id-11 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_dp">
                  <div class="lv"><select id="dp_defense_down2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">属性防御力DOWN1</td>
                <td class="row_element"><select id="element_down1" class="debuff redisplay element_down include_lv"
                    name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element"><label class="strengthen display_chara_id-11 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_element">
                  <div class="lv"><select id="element_down1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">属性防御力DOWN2</td>
                <td class="row_element"><select id="element_down2" class="debuff redisplay element_down include_lv"
                    name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element"><label class="strengthen display_chara_id-11 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_element">
                  <div class="lv"><select id="element_down2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">防御力DOWN1(永)</td>
                <td class=""><select id="permanent_defense_down1"
                    class="debuff redisplay permanent_defense_down include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""><label class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="">
                  <div class="lv"><select id="defense_down1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">防御力DOWN2(永)</td>
                <td class=""><select id="permanent_defense_down2"
                    class="debuff redisplay permanent_defense_down include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""><label class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="">
                  <div class="lv"><select id="defense_down2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element-1 row_element-2 row_element-5" colspan="2">属性防御力DOWN1(永)</td>
                <td class="row_element-1 row_element-2 row_element-5"><select id="permanent_element_down1"
                    class="debuff redisplay permanent_element_down include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element-1 row_element-2 row_element-5"><label
                    class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_element-1 row_element-2 row_element-5">
                  <div class="lv"><select id="element_down1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element-1 row_element-2 row_element-5" colspan="2">属性防御力DOWN2(永)</td>
                <td class="row_element-1 row_element-2 row_element-5"><select id="permanent_element_down2" name="buff"
                    class="debuff redisplay permanent_element_down include_lv">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element-1 row_element-2 row_element-5"><label
                    class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_element-1 row_element-2 row_element-5">
                  <div class="lv"><select id="element_down2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_weak" colspan="2">脆弱1</td>
                <td class="row_weak"><select id="fragile1" class="fragile redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_weak"><label class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_weak">
                  <div class="lv"><select id="fragile1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_weak" colspan="2">脆弱2</td>
                <td class="row_weak"><select id="fragile2" class="fragile redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_weak"><label class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_weak">
                  <div class="lv"><select id="fragile2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr class="">
                <td class="type row_element-2 row_element-3 row_element-5" colspan="2">耐性ダウン1</td>
                <td class="row_element-2 row_element-3 row_element-5"><select id="resist_down1"
                    class="resist resist_down redisplay element include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element-2 row_element-3 row_element-5"><label
                    class="strengthen display_chara_id-11 hidden"><input type="checkbox"><span>強化</span></label></td>
                <td class="row_element-2 row_element-3 row_element-5"></td>
                </td>
              </tr>
              <tr>
                <td class="type row_element-2 row_element-3 row_element-5" colspan="2">耐性ダウン2</td>
                <td class="row_element-2 row_element-3 row_element-5"><select id="resist_down2"
                    class="resist resist_down redisplay element include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element-2 row_element-3 row_element-5"><label
                    class="strengthen display_chara_id-11 hidden"><input type="checkbox"><span>強化</span></label></td>
                <td class="row_element-2 row_element-3 row_element-5"></td>
              </tr>
              <tr class="sp_only">
                <td colspan="5" class="kind">クリティカル</td>
              </tr>
              <tr>
                <td rowspan="8" class="kind pc_only">クリティカル</td>
                <td colspan="2">クリティカル率UP1</td>
                <td><select id="critical_up1" class="critical_rate critical_up redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="critical_up1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">クリティカル率UP2</td>
                <td><select id="critical_up2" class="critical_rate critical_up redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="critical_up2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">クリダメUP1</td>
                <td><select id="critical_damege1" class="critical_buff critical_damege redisplay include_lv"
                    name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="critical_damege1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">クリダメUP2</td>
                <td><select id="critical_damege2" class="critical_buff critical_damege redisplay include_lv"
                    name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="critical_damege2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">属性クリ率UP1</td>
                <td class="row_element"><select id="critical_element1"
                    class="critical_rate critical_element redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element"></td>
                <td class="row_element">
                  <div class="lv"><select id="critical_element1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">属性クリ率UP2</td>
                <td class="row_element"><select id="critical_element2"
                    class="critical_rate critical_element redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element"></td>
                <td class="row_element">
                  <div class="lv"><select id="critical_element2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">属性クリダメUP1</td>
                <td class="row_element"><select id="critical_damege_element1"
                    class="critical_buff critical_damege_element redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element"></td>
                <td class="row_element">
                  <div class="lv"><select id="critical_damege_element1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">属性クリダメUP2</td>
                <td class="row_element"><select id="critical_damege_element2"
                    class="critical_buff critical_damege_element redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element"></td>
                <td class="row_element">
                  <div class="lv"><select id="critical_damege_element2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr class="sp_only">
                <td colspan="5" class="kind">フィールド</td>
              </tr>
              <tr>
                <td class="kind pc_only">フィールド</td>
                <td class="type " colspan="2">フィールド</td>
                <td class=""><select id="element_field" class="filed element_field element redisplay" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td class=""></td>
              </tr>
              <tr class="sp_only">
                <td colspan="5" class="kind">チャージ</td>
              </tr>
              <tr>
                <td class="kind pc_only">チャージ</td>
                <td class="type" colspan="2">チャージ</td>
                <td class=""><select id="charge" class="buff charge redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td class="">
                  <div class="lv"><select id="charge_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr class="sp_only">
                <td colspan="5" class="kind">アビリティ</td>
              </tr>
              <tr>
                <td rowspan="4" class="kind pc_only">アビリティ</td>
                <td>攻撃者</td>
                <td colspan="4" id="ability_self" class="text-left"></td>
              </tr>
              <tr>
                <td>前衛</td>
                <td colspan="4" id="ability_front" class="text-left"></td>
              </tr>
              <tr>
                <td>後衛</td>
                <td colspan="4" id="ability_back" class="text-left"></td>
              </tr>
              <tr>
                <td>全体</td>
                <td colspan="4" id="ability_all" class="text-left"></td>
              </tr>
              
              <tr class="sp_only">
                <td colspan="5" class="kind">パッシブ</td>
              </tr>
              <tr>
                <td class="kind pc_only">パッシブ</td>
                <td colspan="5" id="skill_passive" class="text-left"></td>
              </tr>
            </table>
          </div>
          <div class="mt-1 mx-auto text-left">
            <div class="font-bold">＜＜注意事項＞＞</div>
            <ul>
              <li>・闘志/厄/ハッキングは、バフ/デバフ効果量に影響を与えません。</li>
              <li>・士気は、バフ/デバフ効果量に影響します。</li>
              <li>・バフ強化/デバフ強化/桜花の矢によるデバフ強化は、「強化」ボタンで設定してください。</li>
            </ul>
            <div class="mx-auto text-right">
              <a href="https://marshmallow-qa.com/ldboixq5xyndo94" class="text-blue-500 underline">不具合/要望受付フォーム</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="footer hidden">
      <div id="damage_result" class="text-center mx-auto">
        <div class="flex">
          <div class="mt-2 damage-flex">
            <div>
              <label class="damage_label">クリティカル</label><label id="critical_rate" class="damage_label"></label>
            </div>
            <div>
              <label class="damage_label">最終破壊率</label><label id="critical_destruction_last_rate"
                class="damage_label"></label>
              <input type="button" id="modal_damage_detail_open1" class="open_detail"
                data-micromodal-trigger="modal_damage_detail" value="詳細">
            </div>
            <div class="text-center mx-auto">
              <input type="text" id="critical_damage" class="text-center damage" readonly>
              <div class="leading-4 items-end">
                <label class="pb-0.5">(</label>
                <input type="text" id="critical_damage_min" class="text-center min_damage" readonly>
                <label class="pb-0.5">～</label>
                <input type="text" id="critical_damage_max" class="text-center min_damage" readonly>
                <label class="pb-0.5">)</label>
              </div>
            </div>
          </div>
          <div class="mt-2 damage-flex">
            <div>
              <label class="damage_label">通常ダメージ</label>
            </div>
            <div>
              <label class="damage_label">最終破壊率</label><label id="destruction_last_rate" class="damage_label"></label>
              <input type="button" id="modal_damage_detail_open2" class="open_detail"
                data-micromodal-trigger="modal_damage_detail" value="詳細">
            </div>
            <div class="text-center mx-auto">
              <input type="text" id="damage" class="text-center damage" readonly>
              <div class="leading-4 items-end">
                <label class="pb-0.5">(</label>
                <input type="text" id="damage_min" class="text-center min_damage" readonly>
                <label class="pb-0.5">～</label>
                <input type="text" id="damage_max" class="text-center min_damage" readonly>
                <label class="pb-0.5">)</label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal micromodal-slide" id="modal_style_section" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container container_style" role="dialog" aria-modal="true" aria-labelledby="modal_section">
          <div class="modal_section">
            <div class="modal_inner">
              <div class="modal_inner_headline">
                <div class="flex leading-10">
                  <div class="mx-auto pl-16">スタイル選択</div>
                  <input type="button" id="calc" href="javascript:void(0)" class="remove_btn text-center mr-2"
                    value="外す">
                </div>
              </div>
              <hr class="line" />
              <div class="narrow_element flex mx-auto">
                <input type="image" class="narrow physical" id="physical_1" src="img/slash.webp" data-select="1">
                <input type="image" class="narrow physical" id="physical_2" src="img/stab.webp" data-select="1">
                <input type="image" class="narrow physical" id="physical_3" src="img/strike.webp" data-select="1">
                <div class="w-12"></div>
                <input type="image" class="narrow element" id="element_0" src="img/none.webp" data-select="1">
                <input type="image" class="narrow element" id="element_1" src="img/fire.webp" data-select="1">
                <input type="image" class="narrow element" id="element_2" src="img/ice.webp" data-select="1">
                <input type="image" class="narrow element" id="element_3" src="img/thunder.webp" data-select="1">
                <input type="image" class="narrow element" id="element_4" src="img/light.webp" data-select="1">
                <input type="image" class="narrow element" id="element_5" src="img/dark.webp" data-select="1">
              </div>
              <div class="flex flex-wrap ml-2">
                <input type="button" class="narrow role" id="role_1" value="ATTACKER" data-select="1">
                <input type="button" class="narrow role" id="role_2" value="BREAKER" data-select="1">
                <input type="button" class="narrow role" id="role_3" value="BLASTER" data-select="1">
                <input type="button" class="narrow role" id="role_4" value="HEALER" data-select="1">
                <input type="button" class="narrow role" id="role_5" value="BUFFER" data-select="1">
                <input type="button" class="narrow role" id="role_6" value="DEBUFFER" data-select="1">
                <input type="button" class="narrow role" id="role_7" value="DEFENDER" data-select="1">
                <input type="button" class="narrow role" id="role_8" value="ADMIRAL" data-select="1">
              </div>
              <div class="flex flex-wrap w-[144px] mx-auto">
                <input type="image" class="rarity" id="rarity_1" src="img/IconRaritySS.webp">
                <input type="image" class="rarity opacity-30" id="rarity_2" src="img/IconRarityS.webp">
                <input type="image" class="rarity opacity-30" id="rarity_3" src="img/IconRarityA.webp">
              </div>
              <div class="search_result_area">
                <div id="rank_ss">
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31a.webp">
                    <div id="sytle_list_1_31A" class="flex flex-wrap troops_31A"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31b.webp">
                    <div id="sytle_list_1_31B" class="flex flex-wrap troops_31B"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31c.webp">
                    <div id="sytle_list_1_31C" class="flex flex-wrap troops_31C"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31d.webp">
                    <div id="sytle_list_1_31D" class="flex flex-wrap troops_31D"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31e.webp">
                    <div id="sytle_list_1_31E" class="flex flex-wrap troops_31E"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31f.webp">
                    <div id="sytle_list_1_31F" class="flex flex-wrap troops_31F"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31x.webp">
                    <div id="sytle_list_1_31X" class="flex flex-wrap troops_31X"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp30g.webp">
                    <div id="sytle_list_1_30G" class="flex flex-wrap troops_30G"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/angelbeats.webp">
                    <div id="sytle_list_1_AB" class="flex flex-wrap  troops_AB"></div>
                  </div>
                </div>
                <div id="rank_s" class="hidden">
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31a.webp">
                    <div id="sytle_list_2_31A" class="flex flex-wrap troops_31A"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31b.webp">
                    <div id="sytle_list_2_31B" class="flex flex-wrap troops_31B"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31c.webp">
                    <div id="sytle_list_2_31C" class="flex flex-wrap troops_31C"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31d.webp">
                    <div id="sytle_list_2_31D" class="flex flex-wrap troops_31D"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31e.webp">
                    <div id="sytle_list_2_31E" class="flex flex-wrap troops_31E"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31f.webp">
                    <div id="sytle_list_2_31F" class="flex flex-wrap troops_31F"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31x.webp">
                    <div id="sytle_list_2_31X" class="flex flex-wrap troops_31X"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp30g.webp">
                    <div id="sytle_list_2_30G" class="flex flex-wrap troops_30G"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/angelbeats.webp">
                    <div id="sytle_list_2_AB" class="flex flex-wrap  troops_AB"></div>
                  </div>
                </div>
                <div id="rank_a" class="hidden">
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31a.webp">
                    <div id="sytle_list_3_31A" class="flex flex-wrap troops_31A"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31b.webp">
                    <div id="sytle_list_3_31B" class="flex flex-wrap troops_31B"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31c.webp">
                    <div id="sytle_list_3_31C" class="flex flex-wrap troops_31C"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31d.webp">
                    <div id="sytle_list_3_31D" class="flex flex-wrap troops_31D"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31e.webp">
                    <div id="sytle_list_3_31E" class="flex flex-wrap troops_31E"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31f.webp">
                    <div id="sytle_list_3_31F" class="flex flex-wrap troops_31F"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp31x.webp">
                    <div id="sytle_list_3_31X" class="flex flex-wrap troops_31X"></div>
                  </div>
                  <div class="troops">
                    <input type="image" class="emblem" src="img/DioramaStamp30g.webp">
                    <div id="sytle_list_3_30G" class="flex flex-wrap troops_30G"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal micromodal-slide" id="modal_damage_detail" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container container_damage" role="dialog" aria-modal="true" aria-labelledby="damage_detail">
          <div id="damage_detail" aria-hidden="true" class="modal text-left w-[250px] mx-auto mt-2">
            <div>
              <label class="damage_label">ダメージ詳細</label>
            </div>
            <div class="text-center mx-auto">
              <input type="text" id="detail_damage" class="text-center damage" readonly>
              <div>
                最大
                <input type="text" id="detail_max_damage" class="text-center min_damage" readonly>
              </div>
              <div>
                最小
                <input type="text" id="detail_min_damage" class="text-center min_damage" readonly>
              </div>
              <label class="detail_max_damage">最終破壊率</label>
              <label id="detail_destruction_last_rate" class="damage_label"></label>
            </div>
            <div class="enemy_rest_hp text-center w-[240px] mx-auto">
              <div class="flex">
                <div class="w-8">DP</div>
                <div>
                  <div class="dp_gauge">
                    <output id="rest_dp_rate_3" class="rest_gauge_rate">0%</output>
                  </div>
                  <div class="dp_gauge">
                    <output id="rest_dp_rate_2" class="rest_gauge_rate">0%</output>
                  </div>
                  <div class="dp_gauge">
                    <output id="rest_dp_rate_1" class="rest_gauge_rate">0%</output>
                  </div>
                  <div class="dp_gauge">
                    <output id="rest_dp_rate_0" class="rest_gauge_rate">0%</output>
                  </div>
                </div>
              </div>
              <div class="flex">
                <div class="w-8">HP</div>
                <div>
                  <div class="flex">
                    <output id="rest_hp_rate" class="rest_gauge_rate">0%</output>
                  </div>
                </div>
              </div>
              <input type="button" class="durability_reflection" value="敵情報に反映">
            </div>
            <div class="w-[250px] mx-auto mt-3">
              <div class="font-bold">補正詳細(初段Hit時点)</div>
              <div>
                <div class="magnification">スキル攻撃力</div>
                <input type="text" id="skill_power" class="text-center magnification_value" readonly>
                <input type="text" id="skill_power_critical" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×攻撃力アップ</div>
                <input type="text" id="mag_buff" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×防御力ダウン</div>
                <input type="text" id="mag_debuff" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×属性フィールド</div>
                <input type="text" id="mag_element_field" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×HP/DP特攻</div>
                <input type="text" id="mag_special" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×連撃</div>
                <input type="text" id="mag_funnel" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×トークン補正</div>
                <input type="text" id="mag_token" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×武器相性</div>
                <input type="text" id="mag_physical" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×属性相性</div>
                <input type="text" id="mag_element" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×心眼</div>
                <input type="text" id="mag_mindeye" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×脆弱</div>
                <input type="text" id="mag_fragile" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×破壊率</div>
                <input type="text" id="mag_destruction" class="text-center magnification_value" readonly>
              </div>
              <div id="magnification_critical">
                <div class="magnification">×クリティカル倍率</div>
                <input type="text" id="mag_critical" class="text-center magnification_value" readonly>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal micromodal-slide" id="modal_select_buff" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container container_multi_buff" role="dialog" aria-modal="true"
          aria-labelledby="select_buff">
          <div class="multi_inner_headline">
            <div class="buff_container">
              <div class="mx-auto">一括設定</div>
              <input type="button" id="bulk_buff_setting" href="javascript:void(0)" class="text-center" value="設定">
            </div>
          </div>
          <div class="text-xs">
            ※複数設定不可のスキルは複数反映されません。
          </div>
          <div>
            <input type="checkbox" id="orb_buff"><label for="orb_buff" class="checkbox01">オーブスキルを表示する</label>
          </div>
          <div id="select_buff" aria-hidden="true" class="modal text-left w-[300px] mx-auto">
          </div>
        </div>
      </div>
    </div>
  </main>
</body>

</html>