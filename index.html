<!DOCTYPE html>
<html>

<head>
  <!-- Searvh Console -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1145880808347586"
    crossorigin="anonymous"></script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N7FD0VTLNH"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-N7FD0VTLNH');
  </script>
  <meta charset="utf-8">
  <meta content="ヘブンバーンズレッドのダメージ計算ツールです。" name="description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@RELI_hevburn" />
  <meta name="twitter:title" content="ヘブバン ダメージ計算ツール" />
  <meta name="twitter:description" content="ヘブンバーンズレッドのダメージ計算ツールです。" />
  <meta name="twitter:image" content="https://www.hbr-tool.com/img/summary_card.png" />
  <title>ヘブバン ダメージ計算ツール</title>
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/modal.css">
  <link rel="stylesheet" href="css/micromodal.css">
  <link rel="stylesheet" href="css/damege.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="js/micromodal/micromodal.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react@18/umd/react.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@hello-pangea/dnd@17.0.0/dist/dnd.min.js"></script>
  <script type="text/babel" src="js/component/modal_style_section.js"></script>
  <script type="text/babel" src="js/component/style_list.js"></script>
  <script type="text/babel" src="js/component/damage/chara_status.js"></script>
  <script type="text/babel" src="js/component/damage/content_area.js"></script>
  <script type="text/babel" src="js/component/damage/enemy_area.js"></script>
  <script type="text/babel" src="js/component/damage/score_setting.js"></script>
  <script type="text/babel" src="js/component/damage/bike_parts.js"></script>
  <script type="text/babel" src="js/component/damage/hard_layer.js"></script>
  <script type="text/babel" src="js/component/damage/prediction_score.js"></script>
  <script type="text/babel" src="js/component/damage/seraph_card_list.js"></script>
  <script type="text/babel" src="js/component/enemy_list.js"></script>
  <script src="js/header.js"></script>
  <script src="js/common.js"></script>
  <script src="js/const.js"></script>
  <script src="js/chara_data.js"></script>
  <script src="js/chara_style.js"></script>
  <script src="js/damege.js"></script>
  <script src="js/modal.js"></script>
  <script src="js/skill_list.js"></script>
  <script src="js/skill_attack.js"></script>
  <script src="js/skill_buff.js"></script>
  <script src="js/skill_passive.js"></script>
  <script src="js/ability.js"></script>
  <script src="js/enemy.js"></script>
  <script src="js/grade.js"></script>
  <script src="js/bonus.js"></script>
  <script src="js/score_data.js"></script>
  <script>
    var chara_no = -1;
    var type_physical = ["", "slash", "stab", "strike"];
    var type_element = ["none", "fire", "ice", "thunder", "light", "dark"];
    var select_attack_skill;
    var open_damage_detail;
    const buff_kbn = {
      0: "power_up",
      1: "element_up",
      2: "mindeye",
      3: "defense_down",
      4: "element_down",
      5: "fragile",
      6: "critical_up",
      7: "critical_damege",
      8: "critical_element",
      9: "critical_damege_element",
      10: "charge",
      11: "element_field",
      12: "destruction_rete_up",
      14: "fightingspirit",
      15: "misfortune",
      16: "funnel",
      18: "strong_break",
      19: "dp_defense_down",
      20: "resist_down",
      21: "permanent_defense_down",
      22: "permanent_element_down",
      39: "servant"
    };
    const DP_GAUGE_COUNT = 4;
    $(function () {
      // 自由入力取得
      for (let i = 0; i < 10; i++) {
        let free_enemy = localStorage.getItem("free_enemy_" + i);
        if (free_enemy !== null) {
          updateEnemyStatus(i, JSON.parse(free_enemy));
        }
      }

      // イベント設定
      setEventTrigger();

      // スタイルリスト読み込み
      select_troops = select_troops ? select_troops : 0;
      $("#troops_btn_" + select_troops).addClass("selected_troops");
      loadTroopsList(select_style_list, select_troops);

      // MicroModal初期化
      MicroModal.init({
        disableScroll: true,
      });
    });
    // ロード完了後に表示
    $(window).on("load", function () {
      $("div.frame").css("visibility", "visible");
    });
  </script>
</head>

<body>
  <main>
    <div class="header"></div>
    <div class="frame w-screen pt-3 overflow-y-scroll border-b" style="visibility: hidden;">
      <div class="display_area mx-auto">
        <div class="status_area mx-auto">
          <div class="text-center">
            <span class="text-base font-bold text-red-500">現在最新のバトルシステムに未対応です。<span>
          </div>
          <div id="chara_status" class="grid grid-cols-7 mt-4 text-center gap-y-px gap-x-0"></div>
          <div class="attack_area surround_area mx-auto mt-2 adjust_width">
            <label class="area_title">攻 撃</label>
            <div class="flex">
              <select id="attack_list" class="ml-6">
              </select>
              <div class="lv"><select id="skill_lv"></select></div>
              <img id="attack_physical" class="w-6 h-6" src="img/blank.png">
              <img id="attack_element" class="w-6 h-6" src="img/blank.png">
              <label id="range_area">単体</label>
            </div>
            <div class="ml-6">
              <div class="mb-2">
                <input type="checkbox" id="skill_special_display" checked><label class="checkbox01"
                  for="skill_special_display">EXスキル以外を非表示にする</label>
              </div>
              <!-- バーチカルフォース/パドマ・ナーチュナー/花舞う、可憐のフレア/プレゼント・フォー・ユー/ディナミコ・アチェーゾ専用 -->
              <div
                class="skill_unique attack_attack_id-115 attack_attack_id-2167 attack_attack_id-136 attack_attack_id-166 attack_attack_id-187 hidden">
                <div class="flex">
                  自身のDP
                  <div class="dp_gauge">
                    <input type="range" id="skill_unique_dp_rate" class="player_dp_range dp_range w-[160px]" min="0"
                      max="150" step="1" value="100"
                      style="background: linear-gradient(to right, rgb(79, 124, 139) 0%, rgb(196, 211, 216) 66.6667%, rgb(255, 255, 255) 66.6667%);">
                    <output id="player_dp_rate" class="gauge_rate">100%</output>
                  </div>
                </div>
              </div>
              <!-- コーシュカ・アルマータ/疾きこと風の如し専用 -->
              <div class="skill_unique attack_attack_id-154 attack_attack_id-155 attack_attack_id-2162 hidden">
                <div class="flex">
                  残りSP
                  <input id="skill_unique_sp" type="number" value="30" class="ml-2 w-12">
                </div>
              </div>
              <!-- メガデストロイヤー専用 -->
              <div class="skill_unique attack_attack_id-190 hidden">
                <div class="flex">
                  山脇様のしもべ
                  <select id="servant_count">
                    <option value="1">1人</option>
                    <option value="2">2人</option>
                    <option value="3">3人</option>
                    <option value="4">4人</option>
                    <option value="5">5人</option>
                    <option value="6">6人</option>
                  </select>
                </div>
              </div>
              <!-- 美也専用 -->
              <div class="skill_unique attack_chara_id-45 hidden">
                <input type="checkbox" id="skill_unique_cherry_blossoms"><label class="checkbox01"
                  for="skill_unique_cherry_blossoms">桜花の矢</label>
              </div>
              <!-- アーデルハイト専用 -->
              <div class="skill_unique attack_chara_id-17 hidden">
                <input type="checkbox" id="skill_unique_shadow_clone_17"><label class="checkbox01"
                  for="skill_unique_shadow_clone_17">影分身</label>
              </div>
              <!-- マリー専用 -->
              <div class="skill_unique attack_chara_id-18 hidden">
                <input type="checkbox" id="skill_unique_shadow_clone_18"><label class="checkbox01"
                  for="skill_unique_shadow_clone_18">影分身</label>
              </div>
            </div>
          </div>
          <div id="enemy_area"></div>
          <div class="surround_area mx-auto my-2 adjust_width">
            <label class="area_title">他設定</label>
            <div class="flex flex-wrap py-1 ml-3 gap-x-4 gap-y-2">
              <div class="flex">
                <div class="pt-0.5">属性リング</div>
                <select id="elememt_ring" disabled>
                  <option value="0">無し</option>
                  <option value="2">+0(2%)</option>
                  <option value="4">+1(4%)</option>
                  <option value="6">+2(6%)</option>
                  <option value="8">+3(8%)</option>
                  <option value="10">+4(10%)</option>
                </select>
              </div>
              <div class="flex">
                <div class="pt-0.5">ピアス</div>
                <select id="earring">
                  <option value="0">選択無し</option>
                  <option value="1" data-effect_size="10" data-type="attack">アタック10%</option>
                  <option value="2" data-effect_size="12" data-type="attack">アタック12%</option>
                  <option value="3" data-effect_size="15" data-type="attack">アタック15%</option>
                  <option value="4" data-effect_size="10" data-type="break">ブレイク10%</option>
                  <option value="5" data-effect_size="12" data-type="break">ブレイク12%</option>
                  <option value="6" data-effect_size="15" data-type="break">ブレイク15%</option>
                  <option value="7" data-effect_size="10" data-type="blast">ブラスト10%</option>
                  <option value="8" data-effect_size="12" data-type="blast">ブラスト12%</option>
                  <option value="9" data-effect_size="15" data-type="blast">ブラスト15%</option>
                </select>
              </div>
              <div class="flex">
                <div class="pt-0.5">チェーン</div>
                <select id="chain">
                  <option value="0">選択無し</option>
                  <option value="1">火耀</option>
                  <option value="2">銀氷</option>
                </select>
              </div>
              <input type="checkbox" id="overdrive"><label class="checkbox01" for="overdrive">オーバードライブ</label>
              <input type="checkbox" id="fightingspirit" class="ml-3 pt-0.5"><label class="checkbox01"
                for="fightingspirit">闘志</label>
              <input type="checkbox" id="misfortune" class="ml-3 pt-0.5"><label class="checkbox01"
                for="misfortune">厄</label>
              <div class="flex">
                <div class="pt-0.5">士気</div>
                <select id="morale_count" class="morale">
                  <option value="0">0</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                </select>
              </div>
              <input type="checkbox" id="eternal_vows" class="ml-3 pt-0.5"><label class="checkbox01"
                for="eternal_vows">永遠なる誓い</label>
              <input type="checkbox" id="babied" class="ml-3 pt-0.5"><label class="checkbox01" for="babied">オギャり</label>
              <input type="checkbox" id="hacking" class="ml-3 pt-0.5"><label class="checkbox01"
                for="hacking">ハッキング</label>
            </div>
          </div>
          <div id="prediction_score" class="surround_area mx-auto my-2 adjust_width"></div>
        </div>
        <div class="buff_area text-right mx-auto">
          <div class="flex justify-between items-center w-full">
            <div class="ml-6">
              <input type="button" id="all_delete" class="buff_btn" value="全て外す">
              <input type="button" id="open_select_buff" class="buff_btn" value="一括設定">
            </div>
            <div class="flex items-center">
              <input type="checkbox" id="auto_skill" checked>
              <label class="checkbox01 ml-2" for="auto_skill">スタイル/攻撃スキル/敵選択時に最適スキルを自動選択する</label>
            </div>
          </div>
          <div class="text-center">
            <table>
              <colgroup>
                <col class="title_column pc_only">
                <col class="type1_column">
                <col class="type2_column">
                <col class="skill_name_column">
                <col class="reinforce_column">
                <col class="skill_lv_column">
              </colgroup>
              <tr class="sp_only">
                <td colspan="5" class="kind">バフ</td>
              </tr>
              <tr>
                <td rowspan="11" class="kind pc_only">バフ</td>
                <td class="type" colspan="2">攻撃力UP1</td>
                <td><select id="power_up1" class="buff power_up redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""><label class="strengthen display_chara_id-4 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td>
                  <div class="lv"><select id="power_up1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">攻撃力UP2</td>
                <td><select id="power_up2" class="buff power_up redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""><label class="strengthen display_chara_id-4 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td>
                  <div class="lv"><select id="power_up2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">属性攻撃力UP1</td>
                <td class="row_element"><select id="element_up1" class="buff element_up redisplay include_lv"
                    name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element"><label class="strengthen display_chara_id-4 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_element">
                  <div class="lv"><select id="element_up1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">属性攻撃力UP2</td>
                <td class="row_element"><select id="element_up2" class="buff element_up redisplay include_lv"
                    name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element"><label class="strengthen display_chara_id-4 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_element">
                  <div class="lv"><select id="element_up2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_weak" colspan="2">心眼1</td>
                <td class="row_weak"><select id="mindeye1" class="mindeye redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_weak"></td>
                <td class="row_weak">
                  <div class="lv"><select id="mindeye1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_weak" colspan="2">心眼2</td>
                <td class="row_weak"><select id="mindeye2" class="mindeye redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_weak"></td>
                <td class="row_weak">
                  <div class="lv"><select id="mindeye2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="display_style_id-161 display_style_id-162 display_style_id-163 hidden type " colspan="2">
                  山脇様のしもべ</td>
                <td class="display_style_id-161 display_style_id-162 display_style_id-163 hidden"><select id="servant"
                    class="servant redisplay" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="display_style_id-161 display_style_id-162 display_style_id-163 hidden"></td>
                <td class="display_style_id-161 display_style_id-162 display_style_id-163 hidden">
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">連撃1</td>
                <td><select id="funnel1" class="funnel redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="funnel1_lv"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">連撃2</td>
                <td><select id="funnel2" class="funnel redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="funnel2_lv"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">破壊率UP1</td>
                <td><select id="destruction_rete_up1" class="destruction_rete_up  redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="funnel1_lv"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">破壊率UP2</td>
                <td><select id="destruction_rete_up2" class="destruction_rete_up redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="funnel2_lv"></select></div>
                </td>
              </tr>
              <tr class="sp_only">
                <td colspan="5" class="kind">デバフ</td>
              </tr>
              <tr>
                <td rowspan="14" class="kind pc_only">デバフ</td>
                <td class="type" colspan="2">防御力DOWN1</td>
                <td><select id="defense_down1" class="debuff redisplay defense_down include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""><label class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td>
                  <div class="lv"><select id="defense_down1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">防御力DOWN2</td>
                <td><select id="defense_down2" class="debuff redisplay defense_down include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""><label class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td>
                  <div class="lv"><select id="defense_down2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_dp" colspan="2">DP防御力DOWN1</td>
                <td class="row_dp"><select id="dp_defense_down1" class="dp_debuff redisplay dp_defense_down include_lv"
                    name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_dp"><label class="strengthen display_chara_id-11 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_dp">
                  <div class="lv"><select id="dp_defense_down1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_dp" colspan="2">DP防御力DOWN2</td>
                <td class="row_dp"><select id="dp_defense_down2" class="dp_debuff redisplay dp_defense_down include_lv"
                    name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_dp"><label class="strengthen display_chara_id-11 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_dp">
                  <div class="lv"><select id="dp_defense_down2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">属性防御力DOWN1</td>
                <td class="row_element"><select id="element_down1" class="debuff redisplay element_down include_lv"
                    name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element"><label class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_element">
                  <div class="lv"><select id="element_down1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">属性防御力DOWN2</td>
                <td class="row_element"><select id="element_down2" class="debuff redisplay element_down include_lv"
                    name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element"><label class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_element">
                  <div class="lv"><select id="element_down2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">防御力DOWN1(永)</td>
                <td class=""><select id="permanent_defense_down1"
                    class="debuff redisplay permanent_defense_down include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""><label class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="">
                  <div class="lv"><select id="defense_down1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">防御力DOWN2(永)</td>
                <td class=""><select id="permanent_defense_down2"
                    class="debuff redisplay permanent_defense_down include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""><label class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="">
                  <div class="lv"><select id="defense_down2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element-1 row_element-2 row_element-5" colspan="2">属性防御力DOWN1(永)</td>
                <td class="row_element-1 row_element-2 row_element-5"><select id="permanent_element_down1"
                    class="debuff redisplay permanent_element_down include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element-1 row_element-2 row_element-5"><label
                    class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_element-1 row_element-2 row_element-5">
                  <div class="lv"><select id="element_down1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element-1 row_element-2 row_element-5" colspan="2">属性防御力DOWN2(永)</td>
                <td class="row_element-1 row_element-2 row_element-5"><select id="permanent_element_down2" name="buff"
                    class="debuff redisplay permanent_element_down include_lv">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element-1 row_element-2 row_element-5"><label
                    class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_element-1 row_element-2 row_element-5">
                  <div class="lv"><select id="element_down2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_weak" colspan="2">脆弱1</td>
                <td class="row_weak"><select id="fragile1" class="fragile redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_weak"><label class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_weak">
                  <div class="lv"><select id="fragile1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_weak" colspan="2">脆弱2</td>
                <td class="row_weak"><select id="fragile2" class="fragile redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_weak"><label class="strengthen display_chara_id-11 display_chara_id-45 hidden"><input
                      type="checkbox"><span>強化</span></label></td>
                <td class="row_weak">
                  <div class="lv"><select id="fragile2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type " colspan="2">耐性ダウン1</td>
                <td><select id="resist_down1" class="resist resist_down redisplay element include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td><label class="strengthen display_chara_id-11 hidden"><input type="checkbox"><span>強化</span></label>
                </td>
                <td></td>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">耐性ダウン2</td>
                <td><select id="resist_down2" class="resist resist_down redisplay element include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td><label class="strengthen display_chara_id-11 hidden"><input type="checkbox"><span>強化</span></label>
                </td>
                <td></td>
              </tr>
              <tr class="sp_only">
                <td colspan="5" class="kind">クリティカル</td>
              </tr>
              <tr>
                <td rowspan="8" class="kind pc_only">クリティカル</td>
                <td colspan="2">クリティカル率UP1</td>
                <td><select id="critical_up1" class="critical_rate critical_up redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="critical_up1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">クリティカル率UP2</td>
                <td><select id="critical_up2" class="critical_rate critical_up redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="critical_up2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">クリダメUP1</td>
                <td><select id="critical_damege1" class="critical_buff critical_damege redisplay include_lv"
                    name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="critical_damege1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">クリダメUP2</td>
                <td><select id="critical_damege2" class="critical_buff critical_damege redisplay include_lv"
                    name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="critical_damege2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">属性クリ率UP1</td>
                <td class="row_element"><select id="critical_element1"
                    class="critical_rate critical_element redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element"></td>
                <td class="row_element">
                  <div class="lv"><select id="critical_element1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">属性クリ率UP2</td>
                <td class="row_element"><select id="critical_element2"
                    class="critical_rate critical_element redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element"></td>
                <td class="row_element">
                  <div class="lv"><select id="critical_element2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">属性クリダメUP1</td>
                <td class="row_element"><select id="critical_damege_element1"
                    class="critical_buff critical_damege_element redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element"></td>
                <td class="row_element">
                  <div class="lv"><select id="critical_damege_element1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">属性クリダメUP2</td>
                <td class="row_element"><select id="critical_damege_element2"
                    class="critical_buff critical_damege_element redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class="row_element"></td>
                <td class="row_element">
                  <div class="lv"><select id="critical_damege_element2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr class="sp_only">
                <td colspan="5" class="kind">フィールド</td>
              </tr>
              <tr>
                <td class="kind pc_only">フィールド</td>
                <td class="type " colspan="2">フィールド</td>
                <td class=""><select id="element_field" class="filed element_field element redisplay" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td class=""></td>
              </tr>
              <tr class="sp_only">
                <td colspan="5" class="kind">チャージ</td>
              </tr>
              <tr>
                <td class="kind pc_only">チャージ</td>
                <td class="type" colspan="2">チャージ</td>
                <td class=""><select id="charge" class="buff charge redisplay include_lv" name="buff">
                    <option selected value="">無し</option>
                  </select></td>
                <td class=""></td>
                <td class="">
                  <div class="lv"><select id="charge_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr class="sp_only">
                <td colspan="5" class="kind">アビリティ</td>
              </tr>
              <tr>
                <td rowspan="4" class="kind pc_only">アビリティ</td>
                <td>攻撃者</td>
                <td colspan="4" id="ability_self" class="text-left"></td>
              </tr>
              <tr>
                <td>前衛</td>
                <td colspan="4" id="ability_front" class="text-left"></td>
              </tr>
              <tr>
                <td>後衛</td>
                <td colspan="4" id="ability_back" class="text-left"></td>
              </tr>
              <tr>
                <td>全体</td>
                <td colspan="4" id="ability_all" class="text-left"></td>
              </tr>

              <tr class="sp_only">
                <td colspan="5" class="kind">パッシブ</td>
              </tr>
              <tr>
                <td class="kind pc_only">パッシブ</td>
                <td colspan="5" id="skill_passive" class="text-left"></td>
              </tr>
            </table>
          </div>
          <div class="mt-1 mx-auto text-left">
            <div class="font-bold">＜＜注意事項＞＞</div>
            <ul>
              <li>・闘志/厄/ハッキングは、バフ/デバフ効果量に影響を与えません。</li>
              <li>・士気は、バフ/デバフ効果量に影響します。</li>
              <li>・バフ強化/デバフ強化/桜花の矢によるデバフ強化は、「強化」ボタンで設定してください。</li>
              <li>・現在、自動選択、一括選択において単独発動バフが効果量に関わらず優先度が高く表示されています。</li>
            </ul>
            <div class="mx-auto text-right">
              <a href="https://marshmallow-qa.com/ldboixq5xyndo94" class="text-blue-500 underline">不具合/要望受付フォーム</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="footer hidden">
      <div id="damage_result" class="text-center mx-auto">
        <div class="flex">
          <div class="mt-2 damage-flex">
            <div>
              <label class="damage_label">クリティカル</label><label id="critical_rate" class="damage_label"></label>
            </div>
            <div>
              <label class="damage_label">最終破壊率</label><label id="critical_destruction_last_rate"
                class="damage_label"></label>
              <input type="button" id="modal_damage_detail_open1" class="open_detail"
                data-micromodal-trigger="modal_damage_detail" value="詳細">
            </div>
            <div class="text-center mx-auto">
              <input type="text" id="critical_damage" class="text-center damage" readonly>
              <div class="leading-4 items-end">
                <label class="pb-0.5">(</label>
                <input type="text" id="critical_damage_min" class="text-center min_damage" readonly>
                <label class="pb-0.5">～</label>
                <input type="text" id="critical_damage_max" class="text-center min_damage" readonly>
                <label class="pb-0.5">)</label>
              </div>
            </div>
          </div>
          <div class="mt-2 damage-flex">
            <div>
              <label class="damage_label">通常ダメージ</label>
            </div>
            <div>
              <label class="damage_label">最終破壊率</label><label id="destruction_last_rate" class="damage_label"></label>
              <input type="button" id="modal_damage_detail_open2" class="open_detail"
                data-micromodal-trigger="modal_damage_detail" value="詳細">
            </div>
            <div class="text-center mx-auto">
              <input type="text" id="damage" class="text-center damage" readonly>
              <div class="leading-4 items-end">
                <label class="pb-0.5">(</label>
                <input type="text" id="damage_min" class="text-center min_damage" readonly>
                <label class="pb-0.5">～</label>
                <input type="text" id="damage_max" class="text-center min_damage" readonly>
                <label class="pb-0.5">)</label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal micromodal-slide" id="modal_style_section" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container container_style" role="dialog" aria-modal="true" aria-labelledby="modal_section">
          <div id="modal_section" class="modal_section"></div>
        </div>
      </div>
    </div>
    <div class="modal micromodal-slide" id="modal_damage_detail" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container container_damage" role="dialog" aria-modal="true" aria-labelledby="damage_detail">
          <div id="damage_detail" aria-hidden="true" class="modal text-left w-[250px] mx-auto mt-2">
            <div>
              <label class="damage_label">ダメージ詳細</label>
            </div>
            <div class="text-center mx-auto">
              <input type="text" id="detail_damage" class="text-center damage" readonly>
              <div>
                最大
                <input type="text" id="detail_max_damage" class="text-center min_damage" readonly>
              </div>
              <div>
                最小
                <input type="text" id="detail_min_damage" class="text-center min_damage" readonly>
              </div>
              <label class="detail_max_damage">最終破壊率</label>
              <label id="detail_destruction_last_rate" class="damage_label"></label>
            </div>
            <div class="enemy_rest_hp text-center w-[240px] mx-auto">
              <div class="flex">
                <div class="w-8">DP</div>
                <div>
                  <div class="dp_gauge">
                    <output id="rest_dp_rate_3" class="rest_gauge_rate">0%</output>
                  </div>
                  <div class="dp_gauge">
                    <output id="rest_dp_rate_2" class="rest_gauge_rate">0%</output>
                  </div>
                  <div class="dp_gauge">
                    <output id="rest_dp_rate_1" class="rest_gauge_rate">0%</output>
                  </div>
                  <div class="dp_gauge">
                    <output id="rest_dp_rate_0" class="rest_gauge_rate">0%</output>
                  </div>
                </div>
              </div>
              <div class="flex">
                <div class="w-8">HP</div>
                <div>
                  <div class="flex">
                    <output id="rest_hp_rate" class="rest_gauge_rate">0%</output>
                  </div>
                </div>
              </div>
              <input type="button" class="durability_reflection" value="敵情報に反映">
            </div>
            <div class="w-[250px] mx-auto mt-3">
              <div class="font-bold">補正詳細(初段Hit時点)</div>
              <div>
                <div class="magnification">スキル攻撃力</div>
                <input type="text" id="skill_power" class="text-center magnification_value" readonly>
                <input type="text" id="skill_power_critical" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×攻撃力アップ</div>
                <input type="text" id="mag_buff" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×防御力ダウン</div>
                <input type="text" id="mag_debuff" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×属性フィールド</div>
                <input type="text" id="mag_element_field" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×HP/DP特攻</div>
                <input type="text" id="mag_special" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×連撃</div>
                <input type="text" id="mag_funnel" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×トークン補正</div>
                <input type="text" id="mag_token" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×武器相性</div>
                <input type="text" id="mag_physical" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×属性相性</div>
                <input type="text" id="mag_element" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×心眼</div>
                <input type="text" id="mag_mindeye" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×脆弱</div>
                <input type="text" id="mag_fragile" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×破壊率</div>
                <input type="text" id="mag_destruction" class="text-center magnification_value" readonly>
              </div>
              <div id="magnification_critical">
                <div class="magnification">×クリティカル倍率</div>
                <input type="text" id="mag_critical" class="text-center magnification_value" readonly>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal micromodal-slide" id="modal_select_buff" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container container_multi_buff" role="dialog" aria-modal="true"
          aria-labelledby="select_buff">
          <div class="multi_inner_headline">
            <div class="buff_container">
              <div class="mx-auto">一括設定</div>
              <input type="button" id="bulk_buff_setting" href="javascript:void(0)" class="text-center" value="設定">
            </div>
          </div>
          <div class="text-xs">
            ※複数設定不可のスキルは複数反映されません。
          </div>
          <div>
            <input type="checkbox" id="orb_buff"><label for="orb_buff" class="checkbox01">オーブスキルを表示する</label>
          </div>
          <div id="select_buff" aria-hidden="true" class="modal text-left w-[300px] mx-auto">
          </div>
        </div>
      </div>
    </div>
  </main>
</body>

</html>